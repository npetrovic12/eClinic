  <div class="input-group">
    <input
      id="typeahead-focus"
      type="text"
      class="form-control border-right-0 border"
      [(ngModel)]="model"
      [focusFirst]="false"
      [ngbTypeahead]="search"
      [resultFormatter]="resolvePath"
      [inputFormatter]="resolvePath"
      (focus)="focus$.next($event.target.value)"
      (click)="click$.next($event.target.value)"
      (selectItem)="showSelected($event.item)"
      #instance="ngbTypeahead"
      placeholder="{{placeholder}}"
    />
    <span class="input-group-append">
      <div id="clear-button" 
          *ngIf="!searching && model" 
          type="button"
          (click)="clearSelected()">
        <fa-icon [icon]="'times'"></fa-icon>
      </div>
      <div *ngIf="searching" class="input-group-text bg-transparent border-left-0 border">
        <div class="spinner-border spinner-border-sm text-secondary" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
      <div *ngIf="!searching && !model" class="input-group-text bg-transparent border-left-0 border">
        <fa-icon [icon]="'search'"></fa-icon>
      </div>
    </span>
  </div>